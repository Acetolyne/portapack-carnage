<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Portapack-Carnage: Counting Semaphores</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Portapack-Carnage
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Counting Semaphores<div class="ingroups"><a class="el" href="group__kernel.html">Kernel</a> &raquo; <a class="el" href="group__synchronization.html">Synchronization</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Counting Semaphores:</div>
<div class="dyncontent">
<div class="center"><img src="group__semaphores.png" border="0" usemap="#group____semaphores" alt=""/></div>
<map name="group____semaphores" id="group____semaphores">
<area shape="rect" href="group__synchronization.html" title=" " alt="" coords="5,5,132,31"/>
<area shape="rect" title=" " alt="" coords="180,5,345,31"/>
</map>
</div>
<p>Semaphores related APIs and services. </p><pre class="fragment">     &lt;h2&gt;Operation mode&lt;/h2&gt;
     Semaphores are a flexible synchronization primitive, ChibiOS/RT
     implements semaphores in their "counting semaphores" variant as
     defined by Edsger Dijkstra plus several enhancements like:
     - Wait operation with timeout.
     - Reset operation.
     - Atomic wait+signal operation.
     - Return message from the wait operation (OK, RESET, TIMEOUT).
     .
     The binary semaphores variant can be easily implemented using
     counting semaphores.&lt;br&gt;
     Operations defined for semaphores:
     - &lt;b&gt;Signal&lt;/b&gt;: The semaphore counter is increased and if the
       result is non-positive then a waiting thread is removed from
       the semaphore queue and made ready for execution.
     - &lt;b&gt;Wait&lt;/b&gt;: The semaphore counter is decreased and if the result
       becomes negative the thread is queued in the semaphore and
       suspended.
     - &lt;b&gt;Reset&lt;/b&gt;: The semaphore counter is reset to a non-negative
       value and all the threads in the queue are released.
     .
     Semaphores can be used as guards for mutual exclusion zones
     (note that mutexes are recommended for this kind of use) but
     also have other uses, queues guards and counters for example.&lt;br&gt;
     Semaphores usually use a FIFO queuing strategy but it is possible
     to make them order threads by priority by enabling
     @p CH_USE_SEMAPHORES_PRIORITY in @p chconf.h.
</pre> <dl class="section pre"><dt>Precondition</dt><dd>In order to use the semaphore APIs the <code>CH_USE_SEMAPHORES</code> option must be enabled in <code>chconf.h</code>. </dd></dl>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
